# Библиотека SuffixTree
## Автор: Попов Сергей, 395 группа.

Представляет из себя заголовочный файл [suffixtree.h](https://github.com/DeSerg/mipt-solutions/blob/master/Term3/Task4/suffixtree.h), 
содержащий класс *SuffixTree* с публичным конструктором и публичным методом *DFS* . 
Конструктор принимает строку, по которой строится суффиксное дерево, 
а *DFS* предоставляет пользователю возможность обхода дерева.

Метод *DFS* шаблонный, принимает указатель на объект шаблонного типа. 
Этот тип - класс модели *DFSVisitor*, причем в нем должны быть реализованы следующие методы:

* **setSourse(const std::string&)** - *DFS* вызывает его с аргументом строки, 
по которой построено дерево, инициирует соответствующее поле *Visitor'а*.

* **beforeVertexProc(int vert)** - DFS вызывает его, как только заходит в вершину *vert*.

* **edgeProc(int from, int to, int substrStart, int substrEnd, bool &go)** - 
*DFS* вызывает его перед переходом по ребру из вершины *from* в вершину *to*,
на котором написана подстрока строки суфф. дерева с *substrStart* по *substrEnd* индексы. 
*DFS* передает в этот метод булеву переменную, и осуществляет переход по ребру лишь в случае, 
когда метод присвоил переменной go истинное значение.

* **afterVertexProc(int vert)** - *DFS* вызывает его перед тем, как выходит из вершины *vert*.

Таким образом, пользователь может создать свой "посетитель" *DFS'а*, 
имплементировав необходимые методы таким образом, чтобы решить поставленную перед ним задачу.

Также библиотека содержит заголовочный файл [findoccurences.h](https://github.com/DeSerg/mipt-solutions/blob/master/Term3/Task4/findoccurences.h).
В нем реализован такой "посетитель", при помощи которого решается задача нахождения всех вхождений
строки *pattern* в строку, на которой построено дерево. 
А именно, функция **findAllOccurences**, принимающая суффиксное дерево и строку *pattern*,
возвращает вектор индексов этих вхождений.


Поддерживаются **google tests**. Чтобы их запустить, нужно выполнить в директории с файлом *tests.cpp* следующую команду:
g++ -isystem . -g -std=c++11 -Wall -Wextra -pthread -lpthread tests.cpp  gtest_main.a -o out

В директории при этом должны находиться библиотечный файл *gtest_main.a* и 
директория *gtest* с заголовочными файлами 
(подробнее об этом читать в [документации](https://code.google.com/p/googletest/) к google test'ам).
